<section style="margin-top: 34px;">
    <div></div>
    <div>
        <div class="container">
            <h1 style="font-size: 29px;text-align: center;font-family: 'Poppins';font-weight: bold;margin-bottom: 33px;margin-right: -3px;"><%if current_user.manager?%> Manage Inventory <%else%> Inventory <%end%></h1>
            
            <div class="row justify-content-center">
                <div class="col-9 col-sm-6 col-md-4 col-xl-3 col-xxl-2" style="padding-right: 1px;width: 221.5px;">
                    <div style="min-width: auto;width: 192.5px;"><input class="shadow-sm form-control-sm" type="search" name="search customeer" placeholder="Search Item" autofocus style="border-width: 0px;border-radius: 14px;padding-left: 18px;min-width: auto;width: 201.5px;font-family: 'Poppins';" /></div>
                </div>
                
                <%if current_user.manager?%>
                    <div class="col-md-2 col-lg-2 col-xl-1 col-xxl-1 text-center" style="width: 146px;">
                        <div style="height: 34px;"><button class="btn btn-outline-light btn-sm shadow-sm float-end mb-3 add-row" type="button" style="background: var(--bs-primary);font-family: 'Poppins';font-size: 11px;border-radius: 30px;" data-bs-target="#modal-1" data-bs-toggle="modal"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" style="font-size: 17px;">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.79166 2H1V4H4.2184L6.9872 16.6776H7V17H20V16.7519L22.1932 7.09095L22.5308 6H6.6552L6.08485 3.38852L5.79166 2ZM19.9869 8H7.092L8.62081 15H18.3978L19.9869 8Z" fill="currentColor"></path>
                                    <path d="M10 22C11.1046 22 12 21.1046 12 20C12 18.8954 11.1046 18 10 18C8.89543 18 8 18.8954 8 20C8 21.1046 8.89543 22 10 22Z" fill="currentColor"></path>
                                    <path d="M19 20C19 21.1046 18.1046 22 17 22C15.8954 22 15 21.1046 15 20C15 18.8954 15.8954 18 17 18C18.1046 18 19 18.8954 19 20Z" fill="currentColor"></path>
                                </svg><strong>Add Item</strong></button></div>
                    </div>
                <%end%>
            </div>
            <div class="row">
                <div class="col">
                    <div id="myTable" class="table-responsive shadow-sm" style="border-style: none;border-radius: 20px;min-width: auto;min-height: auto;margin-top: 9px;font-family: 'Poppins';">
                        <table class="table table-striped table-hover table-sm table-bordered">
                            <thead>
                                <tr>
                                    <th class="text-center" style="min-width: auto;width: 62.4375px;">ID<a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                                <path d="M9.1716 6.45504L7.75739 5.04083L12 0.798187L16.2426 5.04083L14.8284 6.45504L13.0001 4.62667V19.3733L14.8284 17.5449L16.2426 18.9592L12 23.2018L7.75739 18.9592L9.1716 17.5449L11.0001 19.3734V4.62658L9.1716 6.45504Z" fill="currentColor"></path>
                                            </svg></a></th>
                                    <th class="text-center" style="min-width: auto;">Quantity<a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                                <path d="M9.1716 6.45504L7.75739 5.04083L12 0.798187L16.2426 5.04083L14.8284 6.45504L13.0001 4.62667V19.3733L14.8284 17.5449L16.2426 18.9592L12 23.2018L7.75739 18.9592L9.1716 17.5449L11.0001 19.3734V4.62658L9.1716 6.45504Z" fill="currentColor"></path>
                                            </svg></a></th>
                                    <th style="text-align: center;min-width: auto;width: 398.141px;">NAME<a href="#"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none">
                                                <path d="M9.1716 6.45504L7.75739 5.04083L12 0.798187L16.2426 5.04083L14.8284 6.45504L13.0001 4.62667V19.3733L14.8284 17.5449L16.2426 18.9592L12 23.2018L7.75739 18.9592L9.1716 17.5449L11.0001 19.3734V4.62658L9.1716 6.45504Z" fill="currentColor"></path>
                                            </svg></a></th>
                                    <%if current_user.manager?%>        
                                    <th class="text-center" style="width: 294px;min-width: auto;">ACTIONS</th>
                                    <%end%>
                                </tr>
                            </thead>
                            <tbody style="text-align: center;">
                                <% @inventories.each do |inventory| %>
                                    <tr>
                                        <td><%= inventory.id %></td>
                                        <td><%= inventory.quantity %></td>
                                        <td><%= inventory.name %></td>
                                        <%if current_user.manager?%>
                                        <td class="text-center" style="width: 66.1719px;">
                                            <button class="btn btn-success" type="button" style="font-size: 10px;border-radius: 20px;margin-right: 5px;margin-top: 2px;margin-bottom: 2px;" data-bs-target="#modal-2" data-bs-toggle="modal">+/-</button>
                                            <button class="btn btn-danger" type="button" style="font-size: 10px;border-radius: 20px;margin-right: 5px;margin-top: 2px;margin-bottom: 2px;" data-bs-target="#modal-delete-item-<%= inventory.id %>" data-bs-toggle="modal">Delete</button>
                                        </td>
                                        <%end%>
                                    </tr>
                                <% end %>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Render the modals after the table to maintain layout -->
<% @inventories.each do |inventory| %>
    <%= render 'inventories/index/delete_item_modal', inventory: inventory %>
    <%= render 'inventories/index/modify_quantity_modal', inventory: inventory %>
<% end %>
<%= render 'inventories/index/add_item_modal' %>
